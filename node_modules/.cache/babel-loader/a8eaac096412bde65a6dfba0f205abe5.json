{"ast":null,"code":"import _asyncToGenerator from\"E:/GoIT/Zad dom/goit-react-hw-08-phonebook/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"E:\\\\GoIT\\\\Zad dom\\\\goit-react-hw-08-phonebook\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";var API_BASE_URL='https://connections-api.herokuapp.com';var myAPI={register:function(){var _register=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(userData){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(API_BASE_URL,\"/users/signup\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(userData)});case 2:response=_context.sent;_context.next=5;return response.json();case 5:return _context.abrupt(\"return\",_context.sent);case 6:case\"end\":return _context.stop();}}},_callee);}));function register(_x){return _register.apply(this,arguments);}return register;}(),fetchContacts:function(){var _fetchContacts=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(token){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"\".concat(API_BASE_URL,\"/contacts\"),{method:'GET',headers:{Authorization:\"Bearer \".concat(token)}});case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:return _context2.abrupt(\"return\",_context2.sent);case 6:case\"end\":return _context2.stop();}}},_callee2);}));function fetchContacts(_x2){return _fetchContacts.apply(this,arguments);}return fetchContacts;}(),login:function(){var _login=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(credentials){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"\".concat(API_BASE_URL,\"/users/login\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(credentials)});case 2:response=_context3.sent;_context3.next=5;return response.json();case 5:return _context3.abrupt(\"return\",_context3.sent);case 6:case\"end\":return _context3.stop();}}},_callee3);}));function login(_x3){return _login.apply(this,arguments);}return login;}(),logout:function(){var _logout=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(token){var response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return fetch(\"\".concat(API_BASE_URL,\"/users/logout\"),{method:'POST',headers:{Authorization:\"Bearer \".concat(token)}});case 3:response=_context4.sent;return _context4.abrupt(\"return\",response);case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);console.error('Logout error:',_context4.t0);throw _context4.t0;case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));function logout(_x4){return _logout.apply(this,arguments);}return logout;}(),addContact:function(){var _addContact=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(contactData,token){var name,number,bodyData,response,errorBody;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:name=contactData.name,number=contactData.number;if(!(!name||!number)){_context5.next=3;break;}throw new Error('Name and number are required to add a contact');case 3:bodyData=JSON.stringify({name:name,number:number});_context5.next=6;return fetch(\"\".concat(API_BASE_URL,\"/contacts\"),{method:'POST',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)},body:bodyData});case 6:response=_context5.sent;if(response.ok){_context5.next=12;break;}_context5.next=10;return response.json();case 10:errorBody=_context5.sent;throw new Error(errorBody.message||'Failed to add contact');case 12:_context5.next=14;return response.json();case 14:return _context5.abrupt(\"return\",_context5.sent);case 15:case\"end\":return _context5.stop();}}},_callee5);}));function addContact(_x5,_x6){return _addContact.apply(this,arguments);}return addContact;}(),editContact:function(){var _editContact=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(contactId,contactData,token){var response;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return fetch(\"\".concat(API_BASE_URL,\"/contacts/\").concat(contactId),{method:'PATCH',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)},body:JSON.stringify(contactData)});case 2:response=_context6.sent;_context6.next=5;return response.json();case 5:return _context6.abrupt(\"return\",_context6.sent);case 6:case\"end\":return _context6.stop();}}},_callee6);}));function editContact(_x7,_x8,_x9){return _editContact.apply(this,arguments);}return editContact;}(),deleteContact:function(){var _deleteContact=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(contactId,token){var response,errorBody;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return fetch(\"\".concat(API_BASE_URL,\"/contacts/\").concat(contactId),{method:'DELETE',headers:{Authorization:\"Bearer \".concat(token)}});case 3:response=_context7.sent;if(response.ok){_context7.next=9;break;}_context7.next=7;return response.json();case 7:errorBody=_context7.sent;throw new Error(errorBody.message||'Failed to delete the contact');case 9:_context7.next=11;return response.json();case 11:return _context7.abrupt(\"return\",_context7.sent);case 14:_context7.prev=14;_context7.t0=_context7[\"catch\"](0);console.error('Delete contact error:',_context7.t0);throw _context7.t0;case 18:case\"end\":return _context7.stop();}}},_callee7,null,[[0,14]]);}));function deleteContact(_x10,_x11){return _deleteContact.apply(this,arguments);}return deleteContact;}()// Additional methods as needed\n};export default myAPI;","map":{"version":3,"names":["API_BASE_URL","myAPI","register","_register","_asyncToGenerator","_regeneratorRuntime","mark","_callee","userData","response","wrap","_callee$","_context","prev","next","fetch","concat","method","headers","body","JSON","stringify","sent","json","abrupt","stop","_x","apply","arguments","fetchContacts","_fetchContacts","_callee2","token","_callee2$","_context2","Authorization","_x2","login","_login","_callee3","credentials","_callee3$","_context3","_x3","logout","_logout","_callee4","_callee4$","_context4","t0","console","error","_x4","addContact","_addContact","_callee5","contactData","name","number","bodyData","errorBody","_callee5$","_context5","Error","ok","message","_x5","_x6","editContact","_editContact","_callee6","contactId","_callee6$","_context6","_x7","_x8","_x9","deleteContact","_deleteContact","_callee7","_callee7$","_context7","_x10","_x11"],"sources":["E:/GoIT/Zad dom/goit-react-hw-08-phonebook/src/components/myAPI/myAPI.jsx"],"sourcesContent":["const API_BASE_URL = 'https://connections-api.herokuapp.com';\r\n\r\nconst myAPI = {\r\n  register: async userData => {\r\n    const response = await fetch(`${API_BASE_URL}/users/signup`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(userData),\r\n    });\r\n    return await response.json();\r\n  },\r\n\r\n  fetchContacts: async token => {\r\n    const response = await fetch(`${API_BASE_URL}/contacts`, {\r\n      method: 'GET',\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    return await response.json();\r\n  },\r\n\r\n  login: async credentials => {\r\n    const response = await fetch(`${API_BASE_URL}/users/login`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(credentials),\r\n    });\r\n    return await response.json();\r\n  },\r\n\r\n  logout: async token => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/users/logout`, {\r\n        method: 'POST',\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n      return response;\r\n    } catch (error) {\r\n      console.error('Logout error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  addContact: async (contactData, token) => {\r\n    const { name, number } = contactData;\r\n    if (!name || !number) {\r\n      throw new Error('Name and number are required to add a contact');\r\n    }\r\n\r\n    const bodyData = JSON.stringify({ name, number });\r\n\r\n    const response = await fetch(`${API_BASE_URL}/contacts`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: bodyData,\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorBody = await response.json();\r\n      throw new Error(errorBody.message || 'Failed to add contact');\r\n    }\r\n\r\n    return await response.json();\r\n  },\r\n\r\n  editContact: async (contactId, contactData, token) => {\r\n    const response = await fetch(`${API_BASE_URL}/contacts/${contactId}`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(contactData),\r\n    });\r\n    return await response.json();\r\n  },\r\n\r\n  deleteContact: async (contactId, token) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/contacts/${contactId}`, {\r\n        method: 'DELETE',\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorBody = await response.json();\r\n        throw new Error(errorBody.message || 'Failed to delete the contact');\r\n      }\r\n\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Delete contact error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Additional methods as needed\r\n};\r\n\r\nexport default myAPI;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}