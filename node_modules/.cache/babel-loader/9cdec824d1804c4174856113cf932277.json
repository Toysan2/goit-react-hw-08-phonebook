{"ast":null,"code":"import _asyncToGenerator from\"E:/GoIT/Zad dom/goit-react-hw-08-phonebook/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"E:\\\\GoIT\\\\Zad dom\\\\goit-react-hw-08-phonebook\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React from'react';import{NavLink}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{clearAuthToken}from'../../redux/actions';import myAPI from'../myAPI/myAPI';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Navigation(){var token=useSelector(function(state){return state.auth.token;});var dispatch=useDispatch();var handleLogout=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!token){_context.next=12;break;}_context.prev=1;_context.next=4;return myAPI.logOut(token);case 4:dispatch(clearAuthToken());// Additional logic for post-logout (e.g., redirect to login page)\n_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);console.error('Error during logout:',_context.t0);// Handle logout error\ncase 10:_context.next=13;break;case 12:console.error('No token found for logout');case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return function handleLogout(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"nav\",{children:[!token&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavLink,{to:\"/login\",children:\"Login\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/register\",children:\"Register\"})]}),token&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavLink,{to:\"/goit-react-hw-08-phonebook\",children:\"Home\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,children:\"Logout\"})]}),/*#__PURE__*/_jsx(NavLink,{to:\"/contacts\",children:\"Contacts\"})]});}export default Navigation;","map":{"version":3,"names":["React","NavLink","useSelector","useDispatch","clearAuthToken","myAPI","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Navigation","token","state","auth","dispatch","handleLogout","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","logOut","t0","console","error","stop","apply","arguments","children","to","onClick"],"sources":["E:/GoIT/Zad dom/goit-react-hw-08-phonebook/src/components/Navigation/Navigation.jsx"],"sourcesContent":["import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { clearAuthToken } from '../../redux/actions';\r\nimport myAPI from '../myAPI/myAPI';\r\n\r\nfunction Navigation() {\r\n  const token = useSelector(state => state.auth.token);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleLogout = async () => {\r\n    if (token) {\r\n      try {\r\n        await myAPI.logOut(token);\r\n        dispatch(clearAuthToken());\r\n        // Additional logic for post-logout (e.g., redirect to login page)\r\n      } catch (error) {\r\n        console.error('Error during logout:', error);\r\n        // Handle logout error\r\n      }\r\n    } else {\r\n      console.error('No token found for logout');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <nav>\r\n      {!token && (\r\n        <>\r\n          <NavLink to=\"/login\">Login</NavLink>\r\n          <NavLink to=\"/register\">Register</NavLink>\r\n        </>\r\n      )}\r\n      {token && (\r\n        <>\r\n          <NavLink to=\"/goit-react-hw-08-phonebook\">Home</NavLink>\r\n          <button onClick={handleLogout}>Logout</button>\r\n        </>\r\n      )}\r\n      <NavLink to=\"/contacts\">Contacts</NavLink>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Navigation;\r\n"],"mappings":"2QAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,OAAO,KAAQ,kBAAkB,CAC1C,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,cAAc,KAAQ,qBAAqB,CACpD,MAAO,CAAAC,KAAK,KAAM,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnC,QAAS,CAAAC,UAAUA,CAAA,CAAG,CACpB,GAAM,CAAAC,KAAK,CAAGX,WAAW,CAAC,SAAAY,KAAK,QAAI,CAAAA,KAAK,CAACC,IAAI,CAACF,KAAK,GAAC,CACpD,GAAM,CAAAG,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAE9B,GAAM,CAAAc,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAAC,QAAA,SAAAF,mBAAA,CAAAG,IAAA,UAAAC,SAAAC,QAAA,kBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,aACfd,KAAK,EAAAY,QAAA,CAAAE,IAAA,WAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEC,CAAAtB,KAAK,CAACuB,MAAM,CAACf,KAAK,CAAC,QACzBG,QAAQ,CAACZ,cAAc,CAAC,CAAC,CAAC,CAC1B;AAAAqB,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAI,EAAA,CAAAJ,QAAA,aAEAK,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAAN,QAAA,CAAAI,EAAO,CAAC,CAC5C;AAAA,QAAAJ,QAAA,CAAAE,IAAA,kBAGFG,OAAO,CAACC,KAAK,CAAC,2BAA2B,CAAC,CAAC,yBAAAN,QAAA,CAAAO,IAAA,OAAAV,OAAA,gBAE9C,kBAbK,CAAAL,YAAYA,CAAA,SAAAC,IAAA,CAAAe,KAAA,MAAAC,SAAA,OAajB,CAED,mBACEvB,KAAA,QAAAwB,QAAA,EACG,CAACtB,KAAK,eACLF,KAAA,CAAAF,SAAA,EAAA0B,QAAA,eACE5B,IAAA,CAACN,OAAO,EAACmC,EAAE,CAAC,QAAQ,CAAAD,QAAA,CAAC,OAAK,CAAS,CAAC,cACpC5B,IAAA,CAACN,OAAO,EAACmC,EAAE,CAAC,WAAW,CAAAD,QAAA,CAAC,UAAQ,CAAS,CAAC,EAC1C,CACH,CACAtB,KAAK,eACJF,KAAA,CAAAF,SAAA,EAAA0B,QAAA,eACE5B,IAAA,CAACN,OAAO,EAACmC,EAAE,CAAC,6BAA6B,CAAAD,QAAA,CAAC,MAAI,CAAS,CAAC,cACxD5B,IAAA,WAAQ8B,OAAO,CAAEpB,YAAa,CAAAkB,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC9C,CACH,cACD5B,IAAA,CAACN,OAAO,EAACmC,EAAE,CAAC,WAAW,CAAAD,QAAA,CAAC,UAAQ,CAAS,CAAC,EACvC,CAAC,CAEV,CAEA,cAAe,CAAAvB,UAAU"},"metadata":{},"sourceType":"module"}