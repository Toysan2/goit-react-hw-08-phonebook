{"ast":null,"code":"var _jsxFileName = \"E:\\\\GoIT\\\\Zad dom\\\\goit-react-hw-08-phonebook\\\\src\\\\components\\\\Contacts\\\\Contacts.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport ContactForm from '../ContactForm/ContactForm';\nimport ContactList from '../ContactList/ContactList';\nimport myAPI from '../myAPI/myAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Contacts() {\n  _s();\n  const [contacts, setContacts] = useState([]);\n  const token = useSelector(state => state.auth.token);\n  const fetchContacts = useCallback(async () => {\n    if (token) {\n      const fetchedContacts = await myAPI.fetchContacts(token);\n      setContacts(fetchedContacts);\n    }\n  }, [token]);\n  useEffect(() => {\n    fetchContacts();\n  }, [fetchContacts]);\n  const handleAddContact = async contactData => {\n    await myAPI.addContact(token, contactData);\n    await fetchContacts();\n  };\n  const handleDeleteContact = async contactId => {\n    await myAPI.deleteContact(token, contactId);\n    await fetchContacts();\n  };\n  const handleEditContact = async (contactId, contactData) => {\n    await myAPI.updateContact(token, contactId, contactData);\n    await fetchContacts();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(ContactForm, {\n      onAddContact: handleAddContact\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ContactList, {\n      contacts: contacts,\n      onDeleteContact: handleDeleteContact,\n      onEditContact: handleEditContact\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n_s(Contacts, \"hLGwlWxAKJLiIpIk7XT05sp/gac=\", false, function () {\n  return [useSelector];\n});\n_c = Contacts;\nexport default Contacts;\nvar _c;\n$RefreshReg$(_c, \"Contacts\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useSelector","ContactForm","ContactList","myAPI","jsxDEV","_jsxDEV","Contacts","_s","contacts","setContacts","token","state","auth","fetchContacts","fetchedContacts","handleAddContact","contactData","addContact","handleDeleteContact","contactId","deleteContact","handleEditContact","updateContact","children","onAddContact","fileName","_jsxFileName","lineNumber","columnNumber","onDeleteContact","onEditContact","_c","$RefreshReg$"],"sources":["E:/GoIT/Zad dom/goit-react-hw-08-phonebook/src/components/Contacts/Contacts.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport ContactForm from '../ContactForm/ContactForm';\r\nimport ContactList from '../ContactList/ContactList';\r\nimport myAPI from '../myAPI/myAPI';\r\n\r\nfunction Contacts() {\r\n  const [contacts, setContacts] = useState([]);\r\n  const token = useSelector(state => state.auth.token);\r\n\r\n  const fetchContacts = useCallback(async () => {\r\n    if (token) {\r\n      const fetchedContacts = await myAPI.fetchContacts(token);\r\n      setContacts(fetchedContacts);\r\n    }\r\n  }, [token]);\r\n\r\n  useEffect(() => {\r\n    fetchContacts();\r\n  }, [fetchContacts]);\r\n\r\n  const handleAddContact = async contactData => {\r\n    await myAPI.addContact(token, contactData);\r\n    await fetchContacts();\r\n  };\r\n\r\n  const handleDeleteContact = async contactId => {\r\n    await myAPI.deleteContact(token, contactId);\r\n    await fetchContacts();\r\n  };\r\n\r\n  const handleEditContact = async (contactId, contactData) => {\r\n    await myAPI.updateContact(token, contactId, contactData);\r\n    await fetchContacts();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <ContactForm onAddContact={handleAddContact} />\r\n      <ContactList\r\n        contacts={contacts}\r\n        onDeleteContact={handleDeleteContact}\r\n        onEditContact={handleEditContact}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Contacts;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC/D,SAASC,WAAW,QAAQ,aAAa;AACzC,OAAOC,WAAW,MAAM,4BAA4B;AACpD,OAAOC,WAAW,MAAM,4BAA4B;AACpD,OAAOC,KAAK,MAAM,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnC,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EAClB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAMa,KAAK,GAAGV,WAAW,CAACW,KAAK,IAAIA,KAAK,CAACC,IAAI,CAACF,KAAK,CAAC;EAEpD,MAAMG,aAAa,GAAGd,WAAW,CAAC,YAAY;IAC5C,IAAIW,KAAK,EAAE;MACT,MAAMI,eAAe,GAAG,MAAMX,KAAK,CAACU,aAAa,CAACH,KAAK,CAAC;MACxDD,WAAW,CAACK,eAAe,CAAC;IAC9B;EACF,CAAC,EAAE,CAACJ,KAAK,CAAC,CAAC;EAEXZ,SAAS,CAAC,MAAM;IACde,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,CAACA,aAAa,CAAC,CAAC;EAEnB,MAAME,gBAAgB,GAAG,MAAMC,WAAW,IAAI;IAC5C,MAAMb,KAAK,CAACc,UAAU,CAACP,KAAK,EAAEM,WAAW,CAAC;IAC1C,MAAMH,aAAa,CAAC,CAAC;EACvB,CAAC;EAED,MAAMK,mBAAmB,GAAG,MAAMC,SAAS,IAAI;IAC7C,MAAMhB,KAAK,CAACiB,aAAa,CAACV,KAAK,EAAES,SAAS,CAAC;IAC3C,MAAMN,aAAa,CAAC,CAAC;EACvB,CAAC;EAED,MAAMQ,iBAAiB,GAAG,MAAAA,CAAOF,SAAS,EAAEH,WAAW,KAAK;IAC1D,MAAMb,KAAK,CAACmB,aAAa,CAACZ,KAAK,EAAES,SAAS,EAAEH,WAAW,CAAC;IACxD,MAAMH,aAAa,CAAC,CAAC;EACvB,CAAC;EAED,oBACER,OAAA;IAAAkB,QAAA,gBACElB,OAAA,CAACJ,WAAW;MAACuB,YAAY,EAAET;IAAiB;MAAAU,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC/CvB,OAAA,CAACH,WAAW;MACVM,QAAQ,EAAEA,QAAS;MACnBqB,eAAe,EAAEX,mBAAoB;MACrCY,aAAa,EAAET;IAAkB;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV;AAACrB,EAAA,CAxCQD,QAAQ;EAAA,QAEDN,WAAW;AAAA;AAAA+B,EAAA,GAFlBzB,QAAQ;AA0CjB,eAAeA,QAAQ;AAAC,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}