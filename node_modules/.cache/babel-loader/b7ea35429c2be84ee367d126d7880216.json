{"ast":null,"code":"'use client';\n\nimport _objectSpread from \"E:/GoIT/Zad dom/goit-react-hw-08-phonebook/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _createClass from \"E:/GoIT/Zad dom/goit-react-hw-08-phonebook/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"E:/GoIT/Zad dom/goit-react-hw-08-phonebook/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport { __publicField, getNextIndex, getPrevIndex, isElement, sortNodes } from \"./chunk-3A5YOZDU.mjs\";\n\n// src/descendant.ts\nvar DescendantsManager = /*#__PURE__*/_createClass(function DescendantsManager() {\n  var _this = this;\n  _classCallCheck(this, DescendantsManager);\n  __publicField(this, \"descendants\", /* @__PURE__ */new Map());\n  __publicField(this, \"register\", function (nodeOrOptions) {\n    if (nodeOrOptions == null) return;\n    if (isElement(nodeOrOptions)) {\n      return _this.registerNode(nodeOrOptions);\n    }\n    return function (node) {\n      _this.registerNode(node, nodeOrOptions);\n    };\n  });\n  __publicField(this, \"unregister\", function (node) {\n    _this.descendants.delete(node);\n    var sorted = sortNodes(Array.from(_this.descendants.keys()));\n    _this.assignIndex(sorted);\n  });\n  __publicField(this, \"destroy\", function () {\n    _this.descendants.clear();\n  });\n  __publicField(this, \"assignIndex\", function (descendants) {\n    _this.descendants.forEach(function (descendant) {\n      var index = descendants.indexOf(descendant.node);\n      descendant.index = index;\n      descendant.node.dataset[\"index\"] = descendant.index.toString();\n    });\n  });\n  __publicField(this, \"count\", function () {\n    return _this.descendants.size;\n  });\n  __publicField(this, \"enabledCount\", function () {\n    return _this.enabledValues().length;\n  });\n  __publicField(this, \"values\", function () {\n    var values = Array.from(_this.descendants.values());\n    return values.sort(function (a, b) {\n      return a.index - b.index;\n    });\n  });\n  __publicField(this, \"enabledValues\", function () {\n    return _this.values().filter(function (descendant) {\n      return !descendant.disabled;\n    });\n  });\n  __publicField(this, \"item\", function (index) {\n    if (_this.count() === 0) return void 0;\n    return _this.values()[index];\n  });\n  __publicField(this, \"enabledItem\", function (index) {\n    if (_this.enabledCount() === 0) return void 0;\n    return _this.enabledValues()[index];\n  });\n  __publicField(this, \"first\", function () {\n    return _this.item(0);\n  });\n  __publicField(this, \"firstEnabled\", function () {\n    return _this.enabledItem(0);\n  });\n  __publicField(this, \"last\", function () {\n    return _this.item(_this.descendants.size - 1);\n  });\n  __publicField(this, \"lastEnabled\", function () {\n    var lastIndex = _this.enabledValues().length - 1;\n    return _this.enabledItem(lastIndex);\n  });\n  __publicField(this, \"indexOf\", function (node) {\n    var _a, _b;\n    if (!node) return -1;\n    return (_b = (_a = _this.descendants.get(node)) == null ? void 0 : _a.index) != null ? _b : -1;\n  });\n  __publicField(this, \"enabledIndexOf\", function (node) {\n    if (node == null) return -1;\n    return _this.enabledValues().findIndex(function (i) {\n      return i.node.isSameNode(node);\n    });\n  });\n  __publicField(this, \"next\", function (index) {\n    var loop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var next = getNextIndex(index, _this.count(), loop);\n    return _this.item(next);\n  });\n  __publicField(this, \"nextEnabled\", function (index) {\n    var loop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var item = _this.item(index);\n    if (!item) return;\n    var enabledIndex = _this.enabledIndexOf(item.node);\n    var nextEnabledIndex = getNextIndex(enabledIndex, _this.enabledCount(), loop);\n    return _this.enabledItem(nextEnabledIndex);\n  });\n  __publicField(this, \"prev\", function (index) {\n    var loop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var prev = getPrevIndex(index, _this.count() - 1, loop);\n    return _this.item(prev);\n  });\n  __publicField(this, \"prevEnabled\", function (index) {\n    var loop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var item = _this.item(index);\n    if (!item) return;\n    var enabledIndex = _this.enabledIndexOf(item.node);\n    var prevEnabledIndex = getPrevIndex(enabledIndex, _this.enabledCount() - 1, loop);\n    return _this.enabledItem(prevEnabledIndex);\n  });\n  __publicField(this, \"registerNode\", function (node, options) {\n    if (!node || _this.descendants.has(node)) return;\n    var keys = Array.from(_this.descendants.keys()).concat(node);\n    var sorted = sortNodes(keys);\n    if (options == null ? void 0 : options.disabled) {\n      options.disabled = !!options.disabled;\n    }\n    var descendant = _objectSpread({\n      node: node,\n      index: -1\n    }, options);\n    _this.descendants.set(node, descendant);\n    _this.assignIndex(sorted);\n  });\n});\nexport { DescendantsManager };","map":{"version":3,"mappings":"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","names":["DescendantsManager","_classCallCheck","__publicField","Map","nodeOrOptions","isElement","_this","registerNode","node","descendants","delete","sorted","sortNodes","Array","from","keys","assignIndex","clear","forEach","descendant","index","indexOf","dataset","toString","size","enabledValues","length","values","sort","a","b","filter","disabled","count","enabledCount","item","enabledItem","lastIndex","_b","get","findIndex","i","isSameNode","loop","next","getNextIndex","enabledIndex","enabledIndexOf","nextEnabledIndex","prev","getPrevIndex","prevEnabledIndex","options","has","concat","set"],"sources":["E:\\GoIT\\Zad dom\\goit-react-hw-08-phonebook\\node_modules\\@chakra-ui\\descendant\\src\\descendant.ts"],"sourcesContent":["import { sortNodes, isElement, getNextIndex, getPrevIndex } from \"./utils\"\n\nexport type DescendantOptions<T = {}> = T & {\n  /**\n   * If `true`, the item will be registered in all nodes map\n   * but omitted from enabled nodes map\n   */\n  disabled?: boolean\n  /**\n   * The id of the item\n   */\n  id?: string\n}\n\nexport type Descendant<T, K> = DescendantOptions<K> & {\n  /**\n   * DOM element of the item\n   */\n  node: T\n  /**\n   * index of item in all nodes map and enabled nodes map\n   */\n  index: number\n}\n\n/**\n * @internal\n *\n * Class to manage descendants and their relative indices in the DOM.\n * It uses `node.compareDocumentPosition(...)` under the hood\n */\nexport class DescendantsManager<\n  T extends HTMLElement,\n  K extends Record<string, any> = {},\n> {\n  private descendants = new Map<T, Descendant<T, K>>()\n\n  register = (nodeOrOptions: T | null | DescendantOptions<K>) => {\n    if (nodeOrOptions == null) return\n\n    if (isElement(nodeOrOptions)) {\n      return this.registerNode(nodeOrOptions)\n    }\n\n    return (node: T | null) => {\n      this.registerNode(node, nodeOrOptions)\n    }\n  }\n\n  unregister = (node: T) => {\n    this.descendants.delete(node)\n    const sorted = sortNodes(Array.from(this.descendants.keys()))\n    this.assignIndex(sorted)\n  }\n\n  destroy = () => {\n    this.descendants.clear()\n  }\n\n  private assignIndex = (descendants: Node[]) => {\n    this.descendants.forEach((descendant) => {\n      const index = descendants.indexOf(descendant.node)\n      descendant.index = index\n      descendant.node.dataset[\"index\"] = descendant.index.toString()\n    })\n  }\n\n  count = () => this.descendants.size\n\n  enabledCount = () => this.enabledValues().length\n\n  values = () => {\n    const values = Array.from(this.descendants.values())\n    return values.sort((a, b) => a.index - b.index)\n  }\n\n  enabledValues = () => {\n    return this.values().filter((descendant) => !descendant.disabled)\n  }\n\n  item = (index: number) => {\n    if (this.count() === 0) return undefined\n    return this.values()[index]\n  }\n\n  enabledItem = (index: number) => {\n    if (this.enabledCount() === 0) return undefined\n    return this.enabledValues()[index]\n  }\n\n  first = () => this.item(0)\n\n  firstEnabled = () => this.enabledItem(0)\n\n  last = () => this.item(this.descendants.size - 1)\n\n  lastEnabled = () => {\n    const lastIndex = this.enabledValues().length - 1\n    return this.enabledItem(lastIndex)\n  }\n\n  indexOf = (node: T | null) => {\n    if (!node) return -1\n    return this.descendants.get(node)?.index ?? -1\n  }\n\n  enabledIndexOf = (node: T | null) => {\n    if (node == null) return -1\n    return this.enabledValues().findIndex((i) => i.node.isSameNode(node))\n  }\n\n  next = (index: number, loop = true) => {\n    const next = getNextIndex(index, this.count(), loop)\n    return this.item(next)\n  }\n\n  nextEnabled = (index: number, loop = true) => {\n    const item = this.item(index)\n    if (!item) return\n    const enabledIndex = this.enabledIndexOf(item.node)\n    const nextEnabledIndex = getNextIndex(\n      enabledIndex,\n      this.enabledCount(),\n      loop,\n    )\n    return this.enabledItem(nextEnabledIndex)\n  }\n\n  prev = (index: number, loop = true) => {\n    const prev = getPrevIndex(index, this.count() - 1, loop)\n    return this.item(prev)\n  }\n\n  prevEnabled = (index: number, loop = true) => {\n    const item = this.item(index)\n    if (!item) return\n    const enabledIndex = this.enabledIndexOf(item.node)\n    const prevEnabledIndex = getPrevIndex(\n      enabledIndex,\n      this.enabledCount() - 1,\n      loop,\n    )\n    return this.enabledItem(prevEnabledIndex)\n  }\n\n  private registerNode = (node: T | null, options?: DescendantOptions<K>) => {\n    if (!node || this.descendants.has(node)) return\n\n    const keys = Array.from(this.descendants.keys()).concat(node)\n    const sorted = sortNodes(keys)\n\n    if (options?.disabled) {\n      options.disabled = !!options.disabled\n    }\n\n    const descendant = { node, index: -1, ...options }\n\n    this.descendants.set(node, descendant as Descendant<T, K>)\n\n    this.assignIndex(sorted)\n  }\n}\n"]},"metadata":{},"sourceType":"module"}