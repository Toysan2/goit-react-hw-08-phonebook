{"ast":null,"code":"import _asyncToGenerator from\"E:/GoIT/Zad dom/goit-react-hw-08-phonebook/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/GoIT/Zad dom/goit-react-hw-08-phonebook/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"E:\\\\GoIT\\\\Zad dom\\\\goit-react-hw-08-phonebook\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from'react';import{useSelector}from'react-redux';import ContactItem from'../ContactItem/ContactItem';import myAPI from'../myAPI/myAPI';import{jsx as _jsx}from\"react/jsx-runtime\";function ContactList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),contacts=_useState2[0],setContacts=_useState2[1];var token=useSelector(function(state){return state.auth.token;});// Access token from Redux store\nuseEffect(function(){var fetchContacts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var fetchedContacts;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!token){_context.next=5;break;}_context.next=3;return myAPI.fetchContacts(token);case 3:fetchedContacts=_context.sent;if(Array.isArray(fetchedContacts)){setContacts(fetchedContacts);}case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchContacts(){return _ref.apply(this,arguments);};}();fetchContacts();},[token]);var handleDeleteContact=function handleDeleteContact(contactId){setContacts(contacts.filter(function(contact){return contact.id!==contactId;}));};return/*#__PURE__*/_jsx(\"div\",{children:Array.isArray(contacts)&&contacts.map(function(contact){return/*#__PURE__*/_jsx(ContactItem,{contact:contact,onDeleteContact:handleDeleteContact},contact.id);})});}export default ContactList;","map":{"version":3,"names":["React","useState","useEffect","useSelector","ContactItem","myAPI","jsx","_jsx","ContactList","_useState","_useState2","_slicedToArray","contacts","setContacts","token","state","auth","fetchContacts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","fetchedContacts","wrap","_callee$","_context","prev","next","sent","Array","isArray","stop","apply","arguments","handleDeleteContact","contactId","filter","contact","id","children","map","onDeleteContact"],"sources":["E:/GoIT/Zad dom/goit-react-hw-08-phonebook/src/components/ContactList/ContactList.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport ContactItem from '../ContactItem/ContactItem';\r\nimport myAPI from '../myAPI/myAPI';\r\n\r\nfunction ContactList() {\r\n  const [contacts, setContacts] = useState([]);\r\n  const token = useSelector(state => state.auth.token); // Access token from Redux store\r\n\r\n  useEffect(() => {\r\n    const fetchContacts = async () => {\r\n      if (token) {\r\n        const fetchedContacts = await myAPI.fetchContacts(token);\r\n        if (Array.isArray(fetchedContacts)) {\r\n          setContacts(fetchedContacts);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchContacts();\r\n  }, [token]);\r\n\r\n  const handleDeleteContact = contactId => {\r\n    setContacts(contacts.filter(contact => contact.id !== contactId));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {Array.isArray(contacts) &&\r\n        contacts.map(contact => (\r\n          <ContactItem\r\n            key={contact.id}\r\n            contact={contact}\r\n            onDeleteContact={handleDeleteContact}\r\n          />\r\n        ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ContactList;\r\n"],"mappings":"2YAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,aAAa,CACzC,MAAO,CAAAC,WAAW,KAAM,4BAA4B,CACpD,MAAO,CAAAC,KAAK,KAAM,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEnC,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACrB,IAAAC,SAAA,CAAgCR,QAAQ,CAAC,EAAE,CAAC,CAAAS,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,GAAM,CAAAI,KAAK,CAAGX,WAAW,CAAC,SAAAY,KAAK,QAAI,CAAAA,KAAK,CAACC,IAAI,CAACF,KAAK,GAAC,CAAE;AAEtDZ,SAAS,CAAC,UAAM,CACd,GAAM,CAAAe,aAAa,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,eAAA,QAAAH,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA,kBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,aAChBd,KAAK,EAAAY,QAAA,CAAAE,IAAA,UAAAF,QAAA,CAAAE,IAAA,SACuB,CAAAvB,KAAK,CAACY,aAAa,CAACH,KAAK,CAAC,QAAlDS,eAAe,CAAAG,QAAA,CAAAG,IAAA,CACrB,GAAIC,KAAK,CAACC,OAAO,CAACR,eAAe,CAAC,CAAE,CAClCV,WAAW,CAACU,eAAe,CAAC,CAC9B,CAAC,wBAAAG,QAAA,CAAAM,IAAA,OAAAV,OAAA,GAEJ,kBAPK,CAAAL,aAAaA,CAAA,SAAAC,IAAA,CAAAe,KAAA,MAAAC,SAAA,OAOlB,CAEDjB,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,CAACH,KAAK,CAAC,CAAC,CAEX,GAAM,CAAAqB,mBAAmB,CAAG,QAAtB,CAAAA,mBAAmBA,CAAGC,SAAS,CAAI,CACvCvB,WAAW,CAACD,QAAQ,CAACyB,MAAM,CAAC,SAAAC,OAAO,QAAI,CAAAA,OAAO,CAACC,EAAE,GAAKH,SAAS,GAAC,CAAC,CACnE,CAAC,CAED,mBACE7B,IAAA,QAAAiC,QAAA,CACGV,KAAK,CAACC,OAAO,CAACnB,QAAQ,CAAC,EACtBA,QAAQ,CAAC6B,GAAG,CAAC,SAAAH,OAAO,qBAClB/B,IAAA,CAACH,WAAW,EAEVkC,OAAO,CAAEA,OAAQ,CACjBI,eAAe,CAAEP,mBAAoB,EAFhCG,OAAO,CAACC,EAGd,CAAC,EACH,CAAC,CACD,CAAC,CAEV,CAEA,cAAe,CAAA/B,WAAW"},"metadata":{},"sourceType":"module"}