{"ast":null,"code":"const API_BASE_URL = 'https://connections-api.herokuapp.com';\nconst myAPI = {\n  register: async userData => {\n    const response = await fetch(`${API_BASE_URL}/users/signup`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(userData)\n    });\n    return await response.json();\n  },\n  fetchContacts: async token => {\n    const response = await fetch(`${API_BASE_URL}/contacts`, {\n      method: 'GET',\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return await response.json();\n  },\n  login: async credentials => {\n    const response = await fetch(`${API_BASE_URL}/users/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(credentials)\n    });\n    return await response.json();\n  },\n  logout: async token => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/users/logout`, {\n        method: 'POST',\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return response;\n    } catch (error) {\n      console.error('Logout error:', error);\n      throw error;\n    }\n  },\n  addContact: async (contactData, token) => {\n    const {\n      name,\n      number\n    } = contactData;\n    if (!name || !number) {\n      throw new Error('Name and number are required to add a contact');\n    }\n    const bodyData = JSON.stringify({\n      name,\n      number\n    });\n    const response = await fetch(`${API_BASE_URL}/contacts`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      },\n      body: bodyData\n    });\n    if (!response.ok) {\n      const errorBody = await response.json();\n      throw new Error(errorBody.message || 'Failed to add contact');\n    }\n    return await response.json();\n  },\n  async updateContact(token, contactId, contactData) {\n    const response = await fetch(`[API URL]/contacts/${contactId}`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify(contactData)\n    });\n    return response.json();\n  },\n  editContact: async (contactId, contactData, token) => {\n    const response = await fetch(`${API_BASE_URL}/contacts/${contactId}`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify(contactData)\n    });\n    return await response.json();\n  },\n  deleteContact: async (contactId, token) => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/contacts/${contactId}`, {\n        method: 'DELETE',\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        const errorBody = await response.json();\n        throw new Error(errorBody.message || 'Failed to delete the contact');\n      }\n      return await response.json();\n    } catch (error) {\n      console.error('Delete contact error:', error);\n      throw error;\n    }\n  }\n};\nexport default myAPI;","map":{"version":3,"names":["API_BASE_URL","myAPI","register","userData","response","fetch","method","headers","body","JSON","stringify","json","fetchContacts","token","Authorization","login","credentials","logout","error","console","addContact","contactData","name","number","Error","bodyData","ok","errorBody","message","updateContact","contactId","editContact","deleteContact"],"sources":["E:/GoIT/Zad dom/goit-react-hw-08-phonebook/src/components/myAPI/myAPI.jsx"],"sourcesContent":["const API_BASE_URL = 'https://connections-api.herokuapp.com';\r\n\r\nconst myAPI = {\r\n  register: async userData => {\r\n    const response = await fetch(`${API_BASE_URL}/users/signup`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(userData),\r\n    });\r\n    return await response.json();\r\n  },\r\n\r\n  fetchContacts: async token => {\r\n    const response = await fetch(`${API_BASE_URL}/contacts`, {\r\n      method: 'GET',\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    return await response.json();\r\n  },\r\n\r\n  login: async credentials => {\r\n    const response = await fetch(`${API_BASE_URL}/users/login`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(credentials),\r\n    });\r\n    return await response.json();\r\n  },\r\n\r\n  logout: async token => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/users/logout`, {\r\n        method: 'POST',\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n      return response;\r\n    } catch (error) {\r\n      console.error('Logout error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  addContact: async (contactData, token) => {\r\n    const { name, number } = contactData;\r\n    if (!name || !number) {\r\n      throw new Error('Name and number are required to add a contact');\r\n    }\r\n\r\n    const bodyData = JSON.stringify({ name, number });\r\n\r\n    const response = await fetch(`${API_BASE_URL}/contacts`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: bodyData,\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorBody = await response.json();\r\n      throw new Error(errorBody.message || 'Failed to add contact');\r\n    }\r\n\r\n    return await response.json();\r\n  },\r\n\r\n  async updateContact(token, contactId, contactData) {\r\n    const response = await fetch(`[API URL]/contacts/${contactId}`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(contactData),\r\n    });\r\n    return response.json();\r\n  },\r\n\r\n  editContact: async (contactId, contactData, token) => {\r\n    const response = await fetch(`${API_BASE_URL}/contacts/${contactId}`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(contactData),\r\n    });\r\n    return await response.json();\r\n  },\r\n\r\n  deleteContact: async (contactId, token) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/contacts/${contactId}`, {\r\n        method: 'DELETE',\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorBody = await response.json();\r\n        throw new Error(errorBody.message || 'Failed to delete the contact');\r\n      }\r\n\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Delete contact error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n\r\nexport default myAPI;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}