{"ast":null,"code":"'use client';\n\nimport _objectSpread from \"E:/GoIT/Zad dom/goit-react-hw-08-phonebook/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"E:/GoIT/Zad dom/goit-react-hw-08-phonebook/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"E:/GoIT/Zad dom/goit-react-hw-08-phonebook/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"onChange\", \"defaultIndex\", \"index\", \"allowMultiple\", \"allowToggle\"],\n  _excluded2 = [\"isDisabled\", \"isFocusable\", \"id\"];\nimport { useAccordionDescendant, useAccordionDescendants } from \"./chunk-RUEU7BLR.mjs\";\n\n// src/use-accordion.ts\nimport { createContext } from \"@chakra-ui/react-context\";\nimport { useControllableState } from \"@chakra-ui/react-use-controllable-state\";\nimport { mergeRefs } from \"@chakra-ui/react-use-merge-refs\";\nimport { callAllHandlers, warn } from \"@chakra-ui/shared-utils\";\nimport { useCallback, useEffect, useId, useRef, useState } from \"react\";\nfunction useAccordion(props) {\n  var onChange = props.onChange,\n    defaultIndex = props.defaultIndex,\n    indexProp = props.index,\n    allowMultiple = props.allowMultiple,\n    allowToggle = props.allowToggle,\n    htmlProps = _objectWithoutProperties(props, _excluded);\n  allowMultipleWarning(props);\n  allowMultipleAndAllowToggleWarning(props);\n  var descendants = useAccordionDescendants();\n  var _useState = useState(-1),\n    _useState2 = _slicedToArray(_useState, 2),\n    focusedIndex = _useState2[0],\n    setFocusedIndex = _useState2[1];\n  useEffect(function () {\n    return function () {\n      setFocusedIndex(-1);\n    };\n  }, []);\n  var _useControllableState = useControllableState({\n      value: indexProp,\n      defaultValue: function defaultValue() {\n        if (allowMultiple) return defaultIndex != null ? defaultIndex : [];\n        return defaultIndex != null ? defaultIndex : -1;\n      },\n      onChange: onChange\n    }),\n    _useControllableState2 = _slicedToArray(_useControllableState, 2),\n    index = _useControllableState2[0],\n    setIndex = _useControllableState2[1];\n  var getAccordionItemProps = function getAccordionItemProps(idx) {\n    var isOpen = false;\n    if (idx !== null) {\n      isOpen = Array.isArray(index) ? index.includes(idx) : index === idx;\n    }\n    var onChange2 = function onChange2(isOpen2) {\n      if (idx === null) return;\n      if (allowMultiple && Array.isArray(index)) {\n        var nextState = isOpen2 ? index.concat(idx) : index.filter(function (i) {\n          return i !== idx;\n        });\n        setIndex(nextState);\n      } else if (isOpen2) {\n        setIndex(idx);\n      } else if (allowToggle) {\n        setIndex(-1);\n      }\n    };\n    return {\n      isOpen: isOpen,\n      onChange: onChange2\n    };\n  };\n  return {\n    index: index,\n    setIndex: setIndex,\n    htmlProps: htmlProps,\n    getAccordionItemProps: getAccordionItemProps,\n    focusedIndex: focusedIndex,\n    setFocusedIndex: setFocusedIndex,\n    descendants: descendants\n  };\n}\nvar _createContext = createContext({\n    name: \"AccordionContext\",\n    hookName: \"useAccordionContext\",\n    providerName: \"Accordion\"\n  }),\n  _createContext2 = _slicedToArray(_createContext, 2),\n  AccordionProvider = _createContext2[0],\n  useAccordionContext = _createContext2[1];\nfunction useAccordionItem(props) {\n  var isDisabled = props.isDisabled,\n    isFocusable = props.isFocusable,\n    id = props.id,\n    htmlProps = _objectWithoutProperties(props, _excluded2);\n  var _useAccordionContext = useAccordionContext(),\n    getAccordionItemProps = _useAccordionContext.getAccordionItemProps,\n    setFocusedIndex = _useAccordionContext.setFocusedIndex;\n  var buttonRef = useRef(null);\n  var reactId = useId();\n  var uid = id != null ? id : reactId;\n  var buttonId = \"accordion-button-\".concat(uid);\n  var panelId = \"accordion-panel-\".concat(uid);\n  focusableNotDisabledWarning(props);\n  var _useAccordionDescenda = useAccordionDescendant({\n      disabled: isDisabled && !isFocusable\n    }),\n    register = _useAccordionDescenda.register,\n    index = _useAccordionDescenda.index,\n    descendants = _useAccordionDescenda.descendants;\n  var _getAccordionItemProp = getAccordionItemProps(index === -1 ? null : index),\n    isOpen = _getAccordionItemProp.isOpen,\n    onChange = _getAccordionItemProp.onChange;\n  warnIfOpenAndDisabled({\n    isOpen: isOpen,\n    isDisabled: isDisabled\n  });\n  var onOpen = function onOpen() {\n    onChange == null ? void 0 : onChange(true);\n  };\n  var onClose = function onClose() {\n    onChange == null ? void 0 : onChange(false);\n  };\n  var onClick = useCallback(function () {\n    onChange == null ? void 0 : onChange(!isOpen);\n    setFocusedIndex(index);\n  }, [index, setFocusedIndex, isOpen, onChange]);\n  var onKeyDown = useCallback(function (event) {\n    var keyMap = {\n      ArrowDown: function ArrowDown() {\n        var next = descendants.nextEnabled(index);\n        next == null ? void 0 : next.node.focus();\n      },\n      ArrowUp: function ArrowUp() {\n        var prev = descendants.prevEnabled(index);\n        prev == null ? void 0 : prev.node.focus();\n      },\n      Home: function Home() {\n        var first = descendants.firstEnabled();\n        first == null ? void 0 : first.node.focus();\n      },\n      End: function End() {\n        var last = descendants.lastEnabled();\n        last == null ? void 0 : last.node.focus();\n      }\n    };\n    var action = keyMap[event.key];\n    if (action) {\n      event.preventDefault();\n      action(event);\n    }\n  }, [descendants, index]);\n  var onFocus = useCallback(function () {\n    setFocusedIndex(index);\n  }, [setFocusedIndex, index]);\n  var getButtonProps = useCallback(function getButtonProps2() {\n    var props2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    return _objectSpread(_objectSpread({}, props2), {}, {\n      type: \"button\",\n      ref: mergeRefs(register, buttonRef, ref),\n      id: buttonId,\n      disabled: !!isDisabled,\n      \"aria-expanded\": !!isOpen,\n      \"aria-controls\": panelId,\n      onClick: callAllHandlers(props2.onClick, onClick),\n      onFocus: callAllHandlers(props2.onFocus, onFocus),\n      onKeyDown: callAllHandlers(props2.onKeyDown, onKeyDown)\n    });\n  }, [buttonId, isDisabled, isOpen, onClick, onFocus, onKeyDown, panelId, register]);\n  var getPanelProps = useCallback(function getPanelProps2() {\n    var props2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    return _objectSpread(_objectSpread({}, props2), {}, {\n      ref: ref,\n      role: \"region\",\n      id: panelId,\n      \"aria-labelledby\": buttonId,\n      hidden: !isOpen\n    });\n  }, [buttonId, isOpen, panelId]);\n  return {\n    isOpen: isOpen,\n    isDisabled: isDisabled,\n    isFocusable: isFocusable,\n    onOpen: onOpen,\n    onClose: onClose,\n    getButtonProps: getButtonProps,\n    getPanelProps: getPanelProps,\n    htmlProps: htmlProps\n  };\n}\nfunction allowMultipleWarning(props) {\n  var index = props.index || props.defaultIndex;\n  var condition = index != null && !Array.isArray(index) && props.allowMultiple;\n  warn({\n    condition: !!condition,\n    message: \"If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: \".concat(typeof index, \",\")\n  });\n}\nfunction allowMultipleAndAllowToggleWarning(props) {\n  warn({\n    condition: !!(props.allowMultiple && props.allowToggle),\n    message: \"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not\"\n  });\n}\nfunction focusableNotDisabledWarning(props) {\n  warn({\n    condition: !!(props.isFocusable && !props.isDisabled),\n    message: \"Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.\\n    \"\n  });\n}\nfunction warnIfOpenAndDisabled(props) {\n  warn({\n    condition: props.isOpen && !!props.isDisabled,\n    message: \"Cannot open a disabled accordion item\"\n  });\n}\nexport { useAccordion, AccordionProvider, useAccordionContext, useAccordionItem };","map":{"version":3,"mappings":"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","names":["createContext","useControllableState","mergeRefs","callAllHandlers","warn","useCallback","useEffect","useId","useRef","useState","useAccordion","props","onChange","defaultIndex","indexProp","index","allowMultiple","allowToggle","htmlProps","allowMultipleWarning","allowMultipleAndAllowToggleWarning","descendants","useAccordionDescendants","_useState2","focusedIndex","setFocusedIndex","value","defaultValue","_useControllableState2","setIndex","getAccordionItemProps","idx","isOpen","Array","isArray","includes","nextState","concat","filter","i","name","hookName","providerName","_createContext2","AccordionProvider","useAccordionContext","useAccordionItem","isDisabled","isFocusable","id","buttonRef","reactId","uid","buttonId","panelId","focusableNotDisabledWarning","useAccordionDescendant","disabled","register","warnIfOpenAndDisabled","onOpen","onClose","onClick","onKeyDown","event","keyMap","ArrowDown","next","nextEnabled","node","focus","ArrowUp","prev","prevEnabled","Home","first","firstEnabled","End","last","lastEnabled","action","key","preventDefault","onFocus","getButtonProps","ref","type","getPanelProps","role","hidden","condition","message"],"sources":["E:\\GoIT\\Zad dom\\goit-react-hw-08-phonebook\\node_modules\\@chakra-ui\\accordion\\src\\use-accordion.ts"],"sourcesContent":["import { createContext } from \"@chakra-ui/react-context\"\nimport { useControllableState } from \"@chakra-ui/react-use-controllable-state\"\nimport { mergeRefs } from \"@chakra-ui/react-use-merge-refs\"\nimport { callAllHandlers, warn } from \"@chakra-ui/shared-utils\"\n\nimport { useCallback, useEffect, useId, useRef, useState } from \"react\"\nimport {\n  useAccordionDescendant,\n  useAccordionDescendants,\n} from \"./accordion-context\"\n\n/* -------------------------------------------------------------------------------------------------\n * useAccordion - The root react hook that manages all accordion items\n * -----------------------------------------------------------------------------------------------*/\n\n/**\n * @deprecated - This will be removed in future versions.\n * Please use `number | number[]` instead.\n */\nexport type ExpandedIndex = number | number[]\n\nexport interface UseAccordionProps {\n  /**\n   * If `true`, multiple accordion items can be expanded at once.\n   *\n   * @default false\n   */\n  allowMultiple?: boolean\n  /**\n   * If `true`, any expanded accordion item can be collapsed again.\n   *\n   * @default false\n   */\n  allowToggle?: boolean\n  /**\n   * The index(es) of the expanded accordion item\n   */\n  index?: ExpandedIndex\n  /**\n   * The initial index(es) of the expanded accordion item\n   */\n  defaultIndex?: ExpandedIndex\n  /**\n   * The callback invoked when accordion items are expanded or collapsed.\n   */\n  onChange?(expandedIndex: ExpandedIndex): void\n}\n\n/**\n * useAccordion hook provides all the state and focus management logic\n * for accordion items.\n *\n * @see WAI-ARIA https://www.w3.org/WAI/ARIA/apg/patterns/accordion/\n */\nexport function useAccordion(props: UseAccordionProps) {\n  const {\n    onChange,\n    defaultIndex,\n    index: indexProp,\n    allowMultiple,\n    allowToggle,\n    ...htmlProps\n  } = props\n\n  // validate the props and `warn` if used incorrectly\n  allowMultipleWarning(props)\n  allowMultipleAndAllowToggleWarning(props)\n\n  /**\n   * Think of this as the register to each accordion item.\n   * We used to manage focus between accordion item buttons.\n   *\n   * Every accordion item, registers their button refs in this context\n   */\n  const descendants = useAccordionDescendants()\n\n  /**\n   * This state is used to track the index focused accordion\n   * button when click on the button, tab on the button, or\n   * use the down/up arrow to navigate.\n   */\n  const [focusedIndex, setFocusedIndex] = useState(-1)\n\n  /**\n   * Reset focused index when accordion unmounts\n   * or descendants change\n   */\n  useEffect(() => {\n    return () => {\n      setFocusedIndex(-1)\n    }\n  }, [])\n\n  /**\n   * Hook that manages the controlled and un-controlled state\n   * for the accordion.\n   */\n  const [index, setIndex] = useControllableState({\n    value: indexProp,\n    defaultValue() {\n      if (allowMultiple) return defaultIndex ?? []\n      return defaultIndex ?? -1\n    },\n    onChange,\n  })\n\n  /**\n   * Gets the `isOpen` and `onChange` props for a child accordion item based on\n   * the child's index.\n   *\n   * @param idx {number} The index of the child accordion item\n   */\n  const getAccordionItemProps = (idx: number | null) => {\n    let isOpen = false\n\n    if (idx !== null) {\n      isOpen = Array.isArray(index) ? index.includes(idx) : index === idx\n    }\n\n    const onChange = (isOpen: boolean) => {\n      if (idx === null) return\n\n      if (allowMultiple && Array.isArray(index)) {\n        //\n        const nextState = isOpen\n          ? index.concat(idx)\n          : index.filter((i) => i !== idx)\n\n        setIndex(nextState)\n        //\n      } else if (isOpen) {\n        setIndex(idx)\n      } else if (allowToggle) {\n        setIndex(-1)\n      }\n    }\n\n    return { isOpen, onChange }\n  }\n\n  return {\n    index,\n    setIndex,\n    htmlProps,\n    getAccordionItemProps,\n    focusedIndex,\n    setFocusedIndex,\n    descendants,\n  }\n}\n\nexport type UseAccordionReturn = ReturnType<typeof useAccordion>\n\n/* -------------------------------------------------------------------------------------------------\n * Create context for the root accordion logic\n * -----------------------------------------------------------------------------------------------*/\n\ninterface AccordionContext\n  extends Omit<UseAccordionReturn, \"htmlProps\" | \"descendants\"> {\n  reduceMotion: boolean\n}\n\nexport const [AccordionProvider, useAccordionContext] =\n  createContext<AccordionContext>({\n    name: \"AccordionContext\",\n    hookName: \"useAccordionContext\",\n    providerName: \"Accordion\",\n  })\n\n/* -------------------------------------------------------------------------------------------------\n * Hook for a single accordion item\n * -----------------------------------------------------------------------------------------------*/\n\nexport interface UseAccordionItemProps {\n  /**\n   * If `true`, the accordion item will be disabled.\n   *\n   * @default false\n   */\n  isDisabled?: boolean\n  /**\n   * If `true`, the accordion item will be focusable.\n   *\n   * @default false\n   */\n  isFocusable?: boolean\n  /**\n   * A unique id for the accordion item.\n   */\n  id?: string\n}\n\n/**\n * useAccordionItem\n *\n * React hook that provides the open/close functionality\n * for an accordion item and its children\n */\nexport function useAccordionItem(props: UseAccordionItemProps) {\n  const { isDisabled, isFocusable, id, ...htmlProps } = props\n  const { getAccordionItemProps, setFocusedIndex } = useAccordionContext()\n\n  const buttonRef = useRef<HTMLElement>(null)\n\n  /**\n   * Generate unique ids for all accordion item components (button and panel)\n   */\n  const reactId = useId()\n  const uid = id ?? reactId\n\n  const buttonId = `accordion-button-${uid}`\n  const panelId = `accordion-panel-${uid}`\n\n  focusableNotDisabledWarning(props)\n\n  /**\n   * Think of this as a way to register this accordion item\n   * with its parent `useAccordion`\n   */\n  const { register, index, descendants } = useAccordionDescendant({\n    disabled: isDisabled && !isFocusable,\n  })\n\n  const { isOpen, onChange } = getAccordionItemProps(\n    index === -1 ? null : index,\n  )\n\n  warnIfOpenAndDisabled({ isOpen, isDisabled })\n\n  const onOpen = () => {\n    onChange?.(true)\n  }\n\n  const onClose = () => {\n    onChange?.(false)\n  }\n\n  /**\n   * Toggle the visibility of the accordion item\n   */\n  const onClick = useCallback(() => {\n    onChange?.(!isOpen)\n    setFocusedIndex(index)\n  }, [index, setFocusedIndex, isOpen, onChange])\n\n  /**\n   * Manage keyboard navigation between accordion items.\n   */\n  const onKeyDown = useCallback(\n    (event: React.KeyboardEvent) => {\n      const keyMap: Record<string, React.KeyboardEventHandler> = {\n        ArrowDown: () => {\n          const next = descendants.nextEnabled(index)\n          next?.node.focus()\n        },\n        ArrowUp: () => {\n          const prev = descendants.prevEnabled(index)\n          prev?.node.focus()\n        },\n        Home: () => {\n          const first = descendants.firstEnabled()\n          first?.node.focus()\n        },\n        End: () => {\n          const last = descendants.lastEnabled()\n          last?.node.focus()\n        },\n      }\n\n      const action = keyMap[event.key]\n\n      if (action) {\n        event.preventDefault()\n        action(event)\n      }\n    },\n    [descendants, index],\n  )\n\n  /**\n   * Since each accordion item's button still remains tabbable, let's\n   * update the focusedIndex when it receives focus\n   */\n  const onFocus = useCallback(() => {\n    setFocusedIndex(index)\n  }, [setFocusedIndex, index])\n\n  const getButtonProps = useCallback(\n    function getButtonProps(\n      props: Omit<React.HTMLAttributes<HTMLElement>, \"color\"> = {},\n      ref: React.Ref<HTMLButtonElement> | null = null,\n    ): React.ComponentProps<\"button\"> {\n      return {\n        ...props,\n        type: \"button\",\n        ref: mergeRefs(register, buttonRef, ref),\n        id: buttonId,\n        disabled: !!isDisabled,\n        \"aria-expanded\": !!isOpen,\n        \"aria-controls\": panelId,\n        onClick: callAllHandlers(props.onClick, onClick),\n        onFocus: callAllHandlers(props.onFocus, onFocus),\n        onKeyDown: callAllHandlers(props.onKeyDown, onKeyDown),\n      }\n    },\n    [\n      buttonId,\n      isDisabled,\n      isOpen,\n      onClick,\n      onFocus,\n      onKeyDown,\n      panelId,\n      register,\n    ],\n  )\n\n  const getPanelProps = useCallback(\n    function getPanelProps<T>(\n      props: Omit<React.HTMLAttributes<T>, \"color\"> = {},\n      ref: React.Ref<T> | null = null,\n    ): React.HTMLAttributes<T> & React.RefAttributes<T> {\n      return {\n        ...props,\n        ref,\n        role: \"region\",\n        id: panelId,\n        \"aria-labelledby\": buttonId,\n        hidden: !isOpen,\n      }\n    },\n    [buttonId, isOpen, panelId],\n  )\n\n  return {\n    isOpen,\n    isDisabled,\n    isFocusable,\n    onOpen,\n    onClose,\n    getButtonProps,\n    getPanelProps,\n    htmlProps,\n  }\n}\n\nexport type UseAccordionItemReturn = ReturnType<typeof useAccordionItem>\n\n/* -------------------------------------------------------------------------------------------------\n * Validate accordion and accordion item props, and emit warnings.\n * -----------------------------------------------------------------------------------------------*/\n\nfunction allowMultipleWarning(props: UseAccordionProps) {\n  const index = props.index || props.defaultIndex\n  const condition =\n    index != null && !Array.isArray(index) && props.allowMultiple\n\n  warn({\n    condition: !!condition,\n    message: `If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof index},`,\n  })\n}\n\nfunction allowMultipleAndAllowToggleWarning(props: UseAccordionProps) {\n  warn({\n    condition: !!(props.allowMultiple && props.allowToggle),\n    message: `If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not`,\n  })\n}\n\nfunction focusableNotDisabledWarning(props: UseAccordionItemProps) {\n  warn({\n    condition: !!(props.isFocusable && !props.isDisabled),\n    message: `Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.\n    `,\n  })\n}\n\nfunction warnIfOpenAndDisabled(props: {\n  isOpen: boolean\n  isDisabled?: boolean\n}) {\n  warn({\n    condition: props.isOpen && !!props.isDisabled,\n    message: \"Cannot open a disabled accordion item\",\n  })\n}\n"]},"metadata":{},"sourceType":"module"}