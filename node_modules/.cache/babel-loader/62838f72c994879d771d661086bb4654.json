{"ast":null,"code":"'use client';\n\n// src/color-mode.utils.ts\nvar classNames = {\n  light: \"chakra-ui-light\",\n  dark: \"chakra-ui-dark\"\n};\nfunction getColorModeUtils() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$preventTrans = options.preventTransition,\n    preventTransition = _options$preventTrans === void 0 ? true : _options$preventTrans;\n  var utils = {\n    setDataset: function setDataset(value) {\n      var cleanup = preventTransition ? utils.preventTransition() : void 0;\n      document.documentElement.dataset.theme = value;\n      document.documentElement.style.colorScheme = value;\n      cleanup == null ? void 0 : cleanup();\n    },\n    setClassName: function setClassName(dark) {\n      document.body.classList.add(dark ? classNames.dark : classNames.light);\n      document.body.classList.remove(dark ? classNames.light : classNames.dark);\n    },\n    query: function query() {\n      return window.matchMedia(\"(prefers-color-scheme: dark)\");\n    },\n    getSystemTheme: function getSystemTheme(fallback) {\n      var _a;\n      var dark = (_a = utils.query().matches) != null ? _a : fallback === \"dark\";\n      return dark ? \"dark\" : \"light\";\n    },\n    addListener: function addListener(fn) {\n      var mql = utils.query();\n      var listener = function listener(e) {\n        fn(e.matches ? \"dark\" : \"light\");\n      };\n      if (typeof mql.addListener === \"function\") mql.addListener(listener);else mql.addEventListener(\"change\", listener);\n      return function () {\n        if (typeof mql.removeListener === \"function\") mql.removeListener(listener);else mql.removeEventListener(\"change\", listener);\n      };\n    },\n    preventTransition: function preventTransition() {\n      var css = document.createElement(\"style\");\n      css.appendChild(document.createTextNode(\"*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}\"));\n      document.head.appendChild(css);\n      return function () {\n        ;\n        (function () {\n          return window.getComputedStyle(document.body);\n        })();\n        requestAnimationFrame(function () {\n          requestAnimationFrame(function () {\n            document.head.removeChild(css);\n          });\n        });\n      };\n    }\n  };\n  return utils;\n}\nexport { getColorModeUtils };","map":{"version":3,"mappings":";;;AAEA,IAAMA,aAAa;EACjBC,OAAO;EACPC,MAAM;AACR;AAMO,SAASC,oBAA6C;EAAA,IAA3BC,8EAAuB,CAAC;EACxD,4BAAqCA,QAA7BC;IAAAA,uDAAoB;EAE5B,IAAMC,QAAQ;IACZC,YAAY,oBAACC,OAAqB;MAChC,IAAMC,UAAUJ,oBAAoBC,MAAMD,kBAAkB,IAAI;MAChEK,SAASC,gBAAgBC,QAAQC,QAAQL;MACzCE,SAASC,gBAAgBG,MAAMC,cAAcP;MAC7CC;IACF;IACAO,oCAAad,MAAe;MAC1BQ,SAASO,KAAKC,UAAUC,IAAIjB,OAAOF,WAAWE,OAAOF,WAAWC,KAAK;MACrES,SAASO,KAAKC,UAAUE,OAAOlB,OAAOF,WAAWC,QAAQD,WAAWE,IAAI;IAC1E;IACAmB,wBAAQ;MACN,OAAOC,OAAOC,WAAW,8BAA8B;IACzD;IACAC,wCAAeC,UAAsB;MA5BzC;MA6BM,IAAMvB,QAAOwB,WAAML,MAAM,EAAEM,YAAd,YAAyBF,aAAa;MACnD,OAAOvB,OAAO,SAAS;IACzB;IACA0B,kCAAYC,IAAgC;MAC1C,IAAMC,MAAMxB,MAAMe,MAAM;MACxB,IAAMU,WAAW,SAAXA,SAAYC,GAA2B;QAC3CH,GAAGG,EAAEL,UAAU,SAAS,OAAO;MACjC;MAEA,IAAI,OAAOG,IAAIF,gBAAgB,YAAYE,IAAIF,YAAYG,QAAQ,OAC9DD,IAAIG,iBAAiB,UAAUF,QAAQ;MAE5C,OAAO,YAAM;QACX,IAAI,OAAOD,IAAII,mBAAmB,YAChCJ,IAAII,eAAeH,QAAQ,OACxBD,IAAIK,oBAAoB,UAAUJ,QAAQ;MACjD;IACF;IACA1B,gDAAoB;MAClB,IAAM+B,MAAM1B,SAAS2B,cAAc,OAAO;MAC1CD,IAAIE,YACF5B,SAAS6B,yKAET,CACF;MACA7B,SAAS8B,KAAKF,YAAYF,GAAG;MAE7B,OAAO,YAAM;QAEX;QAAC,CAAC;UAAA,OAAMd,OAAOmB,iBAAiB/B,SAASO,IAAI;QAAA,GAAG;QAGhDyB,sBAAsB,YAAM;UAC1BA,sBAAsB,YAAM;YAC1BhC,SAAS8B,KAAKG,YAAYP,GAAG;UAC/B,CAAC;QACH,CAAC;MACH;IACF;EACF;EAEA,OAAO9B;AACT","names":["classNames","light","dark","getColorModeUtils","options","preventTransition","utils","setDataset","value","cleanup","document","documentElement","dataset","theme","style","colorScheme","setClassName","body","classList","add","remove","query","window","matchMedia","getSystemTheme","fallback","_a","matches","addListener","fn","mql","listener","e","addEventListener","removeListener","removeEventListener","css","createElement","appendChild","createTextNode","head","getComputedStyle","requestAnimationFrame","removeChild"],"sources":["E:\\GoIT\\Zad dom\\goit-react-hw-08-phonebook\\node_modules\\@chakra-ui\\color-mode\\src\\color-mode.utils.ts"],"sourcesContent":["import { ColorMode } from \"./color-mode-types\"\n\nconst classNames = {\n  light: \"chakra-ui-light\",\n  dark: \"chakra-ui-dark\",\n}\n\ntype UtilOptions = {\n  preventTransition?: boolean\n}\n\nexport function getColorModeUtils(options: UtilOptions = {}) {\n  const { preventTransition = true } = options\n\n  const utils = {\n    setDataset: (value: ColorMode) => {\n      const cleanup = preventTransition ? utils.preventTransition() : undefined\n      document.documentElement.dataset.theme = value\n      document.documentElement.style.colorScheme = value\n      cleanup?.()\n    },\n    setClassName(dark: boolean) {\n      document.body.classList.add(dark ? classNames.dark : classNames.light)\n      document.body.classList.remove(dark ? classNames.light : classNames.dark)\n    },\n    query() {\n      return window.matchMedia(\"(prefers-color-scheme: dark)\")\n    },\n    getSystemTheme(fallback?: ColorMode) {\n      const dark = utils.query().matches ?? fallback === \"dark\"\n      return dark ? \"dark\" : \"light\"\n    },\n    addListener(fn: (cm: ColorMode) => unknown) {\n      const mql = utils.query()\n      const listener = (e: MediaQueryListEvent) => {\n        fn(e.matches ? \"dark\" : \"light\")\n      }\n\n      if (typeof mql.addListener === \"function\") mql.addListener(listener)\n      else mql.addEventListener(\"change\", listener)\n\n      return () => {\n        if (typeof mql.removeListener === \"function\")\n          mql.removeListener(listener)\n        else mql.removeEventListener(\"change\", listener)\n      }\n    },\n    preventTransition() {\n      const css = document.createElement(\"style\")\n      css.appendChild(\n        document.createTextNode(\n          `*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}`,\n        ),\n      )\n      document.head.appendChild(css)\n\n      return () => {\n        // force a reflow\n        ;(() => window.getComputedStyle(document.body))()\n\n        // wait for next tick\n        requestAnimationFrame(() => {\n          requestAnimationFrame(() => {\n            document.head.removeChild(css)\n          })\n        })\n      }\n    },\n  }\n\n  return utils\n}\n"]},"metadata":{},"sourceType":"module"}